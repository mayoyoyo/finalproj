<script src="https://kit.fontawesome.com/165a36cd7d.js" crossorigin="anonymous"></script><html><head><title>.mp426 - Audio Racer</title><style>@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap');

        * {
            font-family: 'Orbitron', sans-serif;
        }

        #custom-button {
            width: 300px;
            height: 50px;
            padding: 10px;
            color: white;
            background-color: #FF8F00;
            border: 1px solid #000;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 auto;
            font-size: 20px;
        }

        .playbutton {
            width: 200px;
            height: 75px;
            padding: 10px;
            color: white;
            background-color: #FF8F00;
            border: 1px solid #000;
            border-radius: 5px;
            margin: 0 auto;
            font-size: 30px;
            cursor: pointer;
        }

        .playbutton:hover {
            width: 200px;
            height: 75px;
            padding: 10px;
            color: white;
            background-color: rgb(235, 133, 1);
            border: 1px solid #000;
            border-radius: 5px;
            margin: 0 auto;
            font-size: 30px;
            cursor: pointer;
        }

        .playbutton:disabled,
        .playbutton[disabled] {
            width: 200px;
            height: 75px;
            padding: 10px;
            color: #666666;
            background-color: #cccccc;
            border: 1px solid #000;
            border-radius: 5px;
            margin: 0 auto;
            font-size: 30px;
            cursor: not-allowed;
        }

        #pausebutton {
            padding: 10px;
            color: white;
            background-color: #FF8F00;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
        }

        #instructions-button {
            padding: 10px;
            color: white;
            background-color: #FF8F00;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
        }

        #custom-text {
            margin-left: 10px;
            color: #aaa;
            font-size: 20px;
        }

        #gameover-text {
            margin-bottom: 10px;
            color: #FFF;
            font-size: 30px;
        }

        .UIBox {
            width: 70%;
            left: 50%;
            top: 9%;
            bottom: 9%;
            display: flex;
            justify-content: space-between;
            position: absolute;
            -webkit-transform: translate(-50%, 0);
            background-color: black;
            border-color: white;
            border-radius: 10px;
            padding: 10px;
            font-family: georgia, garamond, serif;
            font-size: 20px;
        }

        .UIBox2 {
            width: 300px;
            left: 50%;
            top: 20px;
            display: none;
            justify-content: space-between;
            position: absolute;
            -webkit-transform: translate(-50%, 0);
            background-color: #FF8F00;
            border-color: white;
            border-width: 13px;
            padding: 10px;
            border-style: outset;
            font-size: 40px;
            color: white;
        }

        .Pause {
            top: 2%;
            left: 2%;
            margin: auto;
            display: flex;
            justify-content: left;
            position: absolute;
            background-color: transparent;
        }

        .Instructions {
            top: 2%;
            right: 2%;            
            margin: auto;
            display: flex;
            justify-content: left;
            position: absolute;
            background-color: transparent;
        }

        .content {
            margin: auto;
            text-align: center;
            justify-content: center;
            display: flex;
            flex-direction: column;
        }

        .content div {
            margin-top: 10px;
            text-align: center;
            justify-content: center;
        }

        .content input {
            margin-top: 10px;
        }

        .instructions-content {
            width: 70%;
            left: 50%;
            top: 9%;
            bottom: 9%;
            display: flex;
            justify-content: space-between;
            position: absolute;
            -webkit-transform: translate(-50%, 0);
            background-color: black;
            border-color: white;
            border-radius: 10px;
            padding: 10px;
            font-family: georgia, garamond, serif;
            font-size: 20px;
            z-index: 10;
            color: white
        }</style><link rel="shortcut icon" href="/finalproj/favicon.ico"></head><body><div class="UIBox" id="upload"><div class="content"><img src="https://i.ibb.co/kGQDyqD/logo1.png" alt="logo1"> <input type="file" id="fileInput" name="file" accept=".mp3" hidden="hidden"> <span id="gameover-text"></span> <button type="button" id="custom-button">CHOOSE .MP3 FILE</button><br><span id="custom-text">No file chosen yet</span><br><br><br><audio id="audio"></audio><button class="playbutton" id="playAudio" disabled="disabled" onclick="play()">PLAY &nbsp<i class="far fa-play-circle"></i></button></div></div><div class="UIBox2" id="displayscore"><div class="content"><div id="Score">SCORE<br>0</div></div></div><div class="Pause" id="pausediv"><button type="button" id="pausebutton" style="display:none;" onclick="pause()">PAUSE</button></div><div class="Instructions" id="instructions-div"><button type="button" id="instructions-button" onclick="instructions()">INSTRUCTIONS</button></div><div id="instructions-content-div" style="display: none" class="instructions-content"><ul><li>MOVEMENT</li><ul><li>Jump: Up Key</li><li>Left: Left Key</li><li>Right: Right Key</li><li>Shield: Down Key</li></ul><li>OBJECTIVE</li><ul><li>This vehicle is powered by music, load up an MP3 of your choice in order to drive it!</li><li>Collect as many gems while avoiding red death spheres</li></ul><li>Different POV</li><ul>Change your Point of View by pressing the 1,2,3 keys!</ul></ul></div><script src="/finalproj/main.b1e8a73388a6e5188f9b.js"></script></body><script>const realFileBtn = document.getElementById("fileInput");
    const customBtn = document.getElementById("custom-button");
    const customTxt = document.getElementById("custom-text");
    const playButton = document.getElementById("playAudio");
    const gameoverText = document.getElementById("gameover-text");

    customBtn.addEventListener("click", function () {
        realFileBtn.click();
    });

    realFileBtn.addEventListener("change", function () {
        if (realFileBtn.value) {
            customTxt.innerHTML = realFileBtn.value.match(
                /[\/\\]([\w\d\s\.\-\(\)]+)$/
            )[1];

        }
        playButton.disabled = false;
    });

    function onEnded() {
        console.log('Track done!');
        gameover();
    }

    document.getElementById('audio').addEventListener("ended", onEnded, false);

    function play() {
        var box = document.getElementById('upload');
        box.style.display = 'none';
        var score = document.getElementById('displayscore');
        score.style.display = 'flex';
        var audio = document.getElementById('audio');
        audio.play();
        var pausebutton = document.getElementById('pausebutton');
        var pausediv = document.getElementById('pausediv');
        pausediv.style.display = 'flex';
        pausebutton.style.display = 'flex';
    }

    function pause() {
        var score = document.getElementById('displayscore');
        var box = document.getElementById('upload');
        box.style.display = 'flex';
        var audio = document.getElementById('audio');
        gameoverText.innerHTML = "";
        audio.pause();
        score.style.display = 'none';
    }

    function gameover() {
        var box = document.getElementById('upload');
        box.style.display = 'flex';
        gameoverText.innerHTML = "Game over! Try again?";
    }

    function instructions() {
        var instructionsDiv = document.getElementById("instructions-content-div");
        let status = instructionsDiv.style.display; 
        if (status == "none") {
            instructionsDiv.style.display = "flex";
        } else {
            instructionsDiv.style.display ="none";
        }
    }</script></html>