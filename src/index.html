<script src="https://kit.fontawesome.com/165a36cd7d.js" crossorigin="anonymous"></script>
<html>

<head>
    <title>.mp426 - Audio Racer</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap');

        * {
            font-family: 'Orbitron', sans-serif;
        }

        #custom-button {
            width: 300px;
            height: 50px;
            padding: 10px;
            color: white;
            background-color: #FF8F00;
            border: 1px solid #000;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 auto;
            font-size: 20px;
        }

        #custom-button2 {
            width: 300px;
            height: 50px;
            padding: 10px;
            color: white;
            background-color: #FF8F00;
            border: 1px solid #000;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 auto;
            font-size: 20px;
        }

        .playbutton {
            width: 200px;
            height: 75px;
            padding: 10px;
            color: white;
            background-color: #FF8F00;
            border: 1px solid #000;
            border-radius: 5px;
            margin: 0 auto;
            font-size: 30px;
            cursor: pointer;
        }

        .playbutton:hover {
            width: 200px;
            height: 75px;
            padding: 10px;
            color: white;
            background-color: rgb(235, 133, 1);
            border: 1px solid #000;
            border-radius: 5px;
            margin: 0 auto;
            font-size: 30px;
            cursor: pointer;
        }

        .playbutton:disabled,
        .playbutton[disabled] {
            width: 200px;
            height: 75px;
            padding: 10px;
            color: #666666;
            background-color: #cccccc;
            border: 1px solid #000;
            border-radius: 5px;
            margin: 0 auto;
            font-size: 30px;
            cursor: not-allowed;
        }

        #pausebutton {
            padding: 10px;
            color: white;
            background-color: #FF8F00;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
        }

        #instructions-button {
            padding: 10px;
            color: white;
            background-color: #FF8F00;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
        }

        #custom-text {
            margin-left: 10px;
            color: #aaa;
            font-size: 20px;
        }

        #custom-text2 {
            margin-left: 10px;
            color: #aaa;
            font-size: 20px;
        }

        #gameover-text {
            margin-bottom: 10px;
            color: #FFF;
            font-size: 40px;
        }

        #orbs-collected {
            margin-top: 10px;
            margin-bottom: 10px;
            color: #FFF;
            font-size: 16px;
        }

        #red-orbs-collected {
            margin-top: 10px;
            margin-bottom: 10px;
            color: #FFF;
            font-size: 16px;
        }

        #orbs-missed {
            margin-top: 10px;
            margin-bottom: 10px;
            color: #FFF;
            font-size: 16px;
        }

        #accuracy {
            margin-top: 10px;
            margin-bottom: 10px;
            color: #FFF;
            font-size: 16px;
        }

        #final-score {
            margin-top: 10px;
            margin-bottom: 10px;
            color: #FFF;
            font-size: 20px;
        }

        .UIBox {
            width: 70%;
            left: 50%;
            top: 9%;
            bottom: 9%;
            display: flex;
            justify-content: space-between;
            position: absolute;
            -webkit-transform: translate(-50%, 0);
            background-color: black;
            border-color: white;
            border-radius: 10px;
            padding: 10px;
            font-family: georgia, garamond, serif;
            font-size: 20px;
        }

        .UIBox2 {
            width: 300px;
            left: 50%;
            top: 20px;
            display: none;
            justify-content: space-between;
            position: absolute;
            -webkit-transform: translate(-50%, 0);
            background-color: #FF8F00;
            border-color: white;
            border-width: 13px;
            padding: 10px;
            border-style: outset;
            font-size: 40px;
            color: white;
        }

        .UIBox3 {
            width: 70%;
            left: 50%;
            top: 9%;
            bottom: 9%;
            display: none;
            justify-content: space-between;
            position: absolute;
            -webkit-transform: translate(-50%, 0);
            background-color: black;
            border-color: white;
            border-radius: 10px;
            padding: 10px;
            font-family: georgia, garamond, serif;
            font-size: 20px;
        }

        .Pause {
            top: 2%;
            left: 2%;
            margin: auto;
            display: flex;
            justify-content: left;
            position: absolute;
            background-color: transparent;
        }

        .Instructions {
            top: 2%;
            right: 2%;
            margin: auto;
            display: flex;
            justify-content: left;
            position: absolute;
            background-color: transparent;
        }

        .content {
            margin: auto;
            text-align: center;
            justify-content: center;
            display: flex;
            flex-direction: column;
        }

        .content div {
            margin-top: 10px;
            text-align: center;
            justify-content: center;
        }

        .content input {
            margin-top: 10px;
        }

        .instructions-content {
            width: 70%;
            left: 50%;
            top: 9%;
            bottom: 9%;
            display: flex;
            justify-content: space-between;
            position: absolute;
            -webkit-transform: translate(-50%, 0);
            background-color: black;
            border-color: white;
            border-radius: 10px;
            padding: 10px;
            font-family: georgia, garamond, serif;
            font-size: 17px;
            z-index: 10;
            color: white
        }
    </style>
</head>

<body>
    <div class="UIBox" id="upload">
        <div class="content">
            <img src="https://i.ibb.co/kGQDyqD/logo1.png" alt="logo1">
            <input type="file" id="fileInput" name="file" accept=".mp3" hidden="hidden">
            <button type="button" id="custom-button">UPLOAD .MP3</button>
            <br>
            <span id="custom-text">No file chosen</span>
            <br><br><br>
            <audio id="audio"></audio>
            <button class="playbutton" id="playAudio" disabled="disabled" onclick="play()">
                PLAY &nbsp<i class="far fa-play-circle"></i>
            </button>
        </div>
    </div>
    <div class="UIBox2" id="displayscore">
        <div class="content">
            <div id="Score">
                SCORE<br>0
            </div>
        </div>
    </div>
    <div class="Pause" id="pausediv">
        <button type="button" id="pausebutton" style="display:none;" onclick="pause()">
            PAUSE
        </button>
    </div>
    <div class="UIBox3" id="gameover">
        <div class="content">
            <span id="gameover-text">SONG COMPLETE</span>
            <span id="final-score"></span>
            <span id="orbs-collected"></span>
            <span id="red-orbs-collected"></span>
            <span id="orbs-missed"></span>
            <span id="accuracy"></span>
            <br>
            <br>
            <input type="file" id="fileInput2" name="file" accept=".mp3" hidden="hidden">
            <button type="button" id="custom-button2">UPLOAD .MP3</button>
            <br>
            <span id="custom-text2">No file chosen</span>
            <br>
            <audio id="audio"></audio>
            <button class="playbutton" id="playAudio2" disabled="disabled" onclick="play()">
                PLAY &nbsp<i class="far fa-play-circle"></i>
            </button>
        </div>
    </div>
    <div class="Instructions" id="instructions-div">
        <button type="button" id="instructions-button" onclick="instructions()">
            INSTRUCTIONS
        </button>
    </div>
    <div id="instructions-content-div" style="display: none" class="instructions-content">
        <ul>
            <li>CONTROLS</li>
            <ul>
                <li>JUMP: Up Key</li>
                <li>LEFT: Left Key</li>
                <li>RIGHT: Right Key</li>
                <li>SHIELD: Down Key</li>
                <li>CAMERA: 1, 2, 3 Keys</li>
                <li>PAUSE: P Key</li>
            </ul>
            <br><br>
            <li>OBJECTIVE</li>
            <ul>
                <li>This vehicle is powered by music - load up an MP3 of your choice in order to drive it! </li>
                <li>Collect as many white (+100) and yellow (+500) gems as you can before the song ends!</li>
                <li>Avoid red death spheres (-1000) with the help of your shield!</li>
            </ul>
            <br><br>
            <li>POWER-UPS</li>
            <ul>
                <li>DOUBLE (Green) - All gems are worth double points. Spheres are now worth +2000!</li>
                <li>MAGNET (Blue) - Pulls all gems on the track towards the player. Spheres are now worth +1000!</li>
            </ul>
        </ul>
    </div>
</body>


<script>
    const realFileBtn = document.getElementById("fileInput");
    const realFileBtn2 = document.getElementById("fileInput2");
    const customBtn = document.getElementById("custom-button");
    const customBtn2 = document.getElementById("custom-button2");
    const customTxt = document.getElementById("custom-text");
    const customTxt2 = document.getElementById("custom-text2");
    const playButton = document.getElementById("playAudio");
    const playButton2 = document.getElementById("playAudio2");
    const audio = document.getElementById('audio');
    const box = document.getElementById('upload');
    const score = document.getElementById('displayscore');
    const pausebutton = document.getElementById('pausebutton');
    const pausediv = document.getElementById('pausediv');
    const gameoverBox = document.getElementById('gameover');
    const instructionsButton = document.getElementById('instructions-button');

    customBtn.addEventListener("click", function () {
        realFileBtn.click();
    });

    customBtn2.addEventListener("click", function () {
        realFileBtn.click();
    });

    realFileBtn.addEventListener("change", function () {
        if (realFileBtn.value) {
            customTxt.innerHTML = realFileBtn.value.match(
                /[\/\\]([\w\d\s\.\-\(\)]+)$/
            )[1];
            customTxt2.innerHTML = customTxt.innerHTML;
        }
        playButton.disabled = false;
        playButton2.disabled = false;
    });

    audio.addEventListener("ended", gameover, false);

    function play() {
        box.style.display = 'none';
        score.style.display = 'flex';
        audio.play();
        pausediv.style.display = 'flex';
        pausebutton.style.display = 'flex';
        gameoverBox.style.display = 'none';
        instructionsButton.style.display = 'none';
    }

    function pause() {
        box.style.display = 'flex';
        audio.pause();
        score.style.display = 'none';
        gameoverBox.style.display = 'none';
        pausediv.style.display = 'none';
        pausebutton.style.display = 'none';
        instructionsButton.style.display = 'flex';
    }

    function gameover() {
        gameoverBox.style.display = 'flex';
        score.style.display = 'none';
        pausebutton.style.display = 'none';
    }

    function instructions() {
        var instructionsDiv = document.getElementById("instructions-content-div");
        let status = instructionsDiv.style.display;
        if (status == "none") {
            instructionsDiv.style.display = "flex";
        } else {
            instructionsDiv.style.display ="none";
        }
    }

</script>

</html>
